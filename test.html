<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        .info { background-color: #d1ecf1; border-color: #bee5eb; }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø—Ä–æ—Å–∞ –Ω–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥—ã</h1>
    
    <div class="test-section info">
        <h3>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:</h3>
        <ol>
            <li>–û—Ç–∫—Ä–æ–π—Ç–µ <a href="index.html" target="_blank">–æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</a></li>
            <li>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª <code>SeoulBikeData.csv</code></li>
            <li>–ù–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ" –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è</li>
            <li>–ù–∞–∂–º–∏—Ç–µ "–û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å" –∏ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º</li>
            <li>–ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞—Ç—å" –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</li>
        </ol>
    </div>

    <div class="test-section">
        <h3>üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤:</h3>
        <div id="fileCheck"></div>
    </div>

    <div class="test-section">
        <h3>üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ CDN —Ä–µ—Å—É—Ä—Å–æ–≤:</h3>
        <div id="cdnCheck"></div>
    </div>

    <div class="test-section">
        <h3>üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∞–Ω–Ω—ã—Ö:</h3>
        <div id="dataInfo"></div>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤
        function checkFiles() {
            const files = ['index.html', 'data-loader.js', 'lstm-model.js', 'app.js', 'SeoulBikeData.csv'];
            const fileCheckDiv = document.getElementById('fileCheck');
            
            files.forEach(file => {
                fetch(file)
                    .then(response => {
                        const div = document.createElement('div');
                        if (response.ok) {
                            div.innerHTML = `‚úÖ ${file} - OK`;
                            div.className = 'success';
                        } else {
                            div.innerHTML = `‚ùå ${file} - –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏`;
                            div.className = 'error';
                        }
                        fileCheckDiv.appendChild(div);
                    })
                    .catch(error => {
                        const div = document.createElement('div');
                        div.innerHTML = `‚ùå ${file} - –û—à–∏–±–∫–∞: ${error.message}`;
                        div.className = 'error';
                        fileCheckDiv.appendChild(div);
                    });
            });
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ CDN —Ä–µ—Å—É—Ä—Å–æ–≤
        function checkCDN() {
            const cdnCheckDiv = document.getElementById('cdnCheck');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ TensorFlow.js
            const tfScript = document.createElement('script');
            tfScript.src = 'https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.15.0/dist/tf.min.js';
            tfScript.onload = () => {
                const div = document.createElement('div');
                div.innerHTML = `‚úÖ TensorFlow.js –∑–∞–≥—Ä—É–∂–µ–Ω - –≤–µ—Ä—Å–∏—è ${tf.version.tfjs}`;
                div.className = 'success';
                cdnCheckDiv.appendChild(div);
            };
            tfScript.onerror = () => {
                const div = document.createElement('div');
                div.innerHTML = '‚ùå TensorFlow.js - –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
                div.className = 'error';
                cdnCheckDiv.appendChild(div);
            };
            document.head.appendChild(tfScript);

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ Chart.js
            const chartScript = document.createElement('script');
            chartScript.src = 'https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.js';
            chartScript.onload = () => {
                const div = document.createElement('div');
                div.innerHTML = `‚úÖ Chart.js –∑–∞–≥—Ä—É–∂–µ–Ω - –≤–µ—Ä—Å–∏—è ${Chart.version}`;
                div.className = 'success';
                cdnCheckDiv.appendChild(div);
            };
            chartScript.onerror = () => {
                const div = document.createElement('div');
                div.innerHTML = '‚ùå Chart.js - –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
                div.className = 'error';
                cdnCheckDiv.appendChild(div);
            };
            document.head.appendChild(chartScript);
        }

        // –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö CSV
        function analyzeData() {
            fetch('SeoulBikeData.csv')
                .then(response => response.text())
                .then(csv => {
                    const lines = csv.split('\n');
                    const headers = lines[0].split(',');
                    const dataRows = lines.slice(1).filter(line => line.trim());
                    
                    const dataInfoDiv = document.getElementById('dataInfo');
                    dataInfoDiv.innerHTML = `
                        <div class="success">
                            <strong>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö:</strong><br>
                            ‚Ä¢ –í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫: ${dataRows.length}<br>
                            ‚Ä¢ –ö–æ–ª–æ–Ω–æ–∫: ${headers.length}<br>
                            ‚Ä¢ –ö–æ–ª–æ–Ω–∫–∏: ${headers.join(', ')}<br>
                            ‚Ä¢ –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: ${(csv.length / 1024).toFixed(2)} KB
                        </div>
                    `;
                })
                .catch(error => {
                    const dataInfoDiv = document.getElementById('dataInfo');
                    dataInfoDiv.innerHTML = `
                        <div class="error">
                            ‚ùå –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö: ${error.message}
                        </div>
                    `;
                });
        }

        // –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
        window.onload = function() {
            checkFiles();
            checkCDN();
            analyzeData();
        };
    </script>
</body>
</html>
